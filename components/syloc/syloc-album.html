<link href="../polymer/polymer.html" rel="import">

<link href="../firebase-element/firebase-document.html" rel="import">
<link href="../iron-ajax/iron-ajax.html" rel="import">

<link rel="import" href="../syloc/syloc-group.html">


<dom-module id="syloc-album">
  <template>
    <style>
      :host {
        height: 100%;
      }
      .grid {
        margin: 0 auto;
        -webkit-column-count: 3;
        -webkit-column-gap: 10px;
          width: calc(288px * 3 + 10px * 2);
      }
      @media screen and (max-width: 1000px) {
        .grid {
          -webkit-column-count: 2;
          width: calc(288px * 2 + 10px);
        }
      }
      @media screen and (max-width: 700px) {
        .grid {
          -webkit-column-count: 1;
          width: calc(288px * 1);
        }
      }
      .grid-item {
        line-height: 0;
        margin-bottom: 10px;
        display: inline-block;
        width: 288px;
      }
      img {
        width: 100%;
      }
    </style>
    <firebase-document location="https://syloc.firebaseio.com/album/[[key]]" data="{{album}}"></firebase-document>
    <firebase-document location="https://syloc.firebaseio.com/group/[[key]]" data="{{_groups}}"></firebase-document>
    <syloc-group key="[[key]]" value="[[_groups]]" album="[[album]]"></syloc-group>
  </template>
</dom-module>

<script>
  /* global Polymer */
  Polymer({
    is: 'syloc-album',
    properties: {
      album: Object,
      _groups: Object,
      key: String,
    },
  });
</script>